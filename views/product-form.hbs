<section role="main" class="content-body">
	<header class="page-header">
		<h2>Basic Forms</h2>

		<div class="right-wrapper pull-right">
			<ol class="breadcrumbs">
				<li>
					<a href="/">
						<i class="fa fa-home"></i>
					</a>
				</li>
				<li><span>Forms</span></li>
				<li><span>Product</span></li>
			</ol>

			<a class="sidebar-right-toggle" data-open="sidebar-right"><i class="fa fa-chevron-left"></i></a>
		</div>
	</header>

	<!-- start: page -->
	<div class="row">
		<div class="col-lg-12">
			<section class="panel">
				<header class="panel-heading">
					<div class="panel-actions">
						<a href="#" class="fa fa-caret-down"></a>
						<a href="#" class="fa fa-times"></a>
					</div>

					<h2 class="panel-title">Form Product</h2>
				</header>
				<div class="panel-body">
					{{#if product}}
					<form class="form-horizontal form-bordered" method="post" action="/products/{{product._id}}" enctype="multipart/form-data">
						<fieldset>
							{{#if ../type}}
							<div class="span2 offset2 alert alert-success" role="alert">
								<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span
										aria-hidden="true">&times;</span></button>
								<strong>Success!</strong> Update profile successfully!
							</div>
							
							{{/if}}
                            <div class="form-group">
                                <label class="col-md-3 control-label" for="name">Name</label>
                                <div class="col-md-8">
                                    <input type="text" class="form-control" value="{{product.name}}" name="name" required="required">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-3 control-label" for="price">Price</label>
                                <div class="col-md-8">
                                    <input type="number" class="form-control" name="price" required="required" value="{{product.price}}">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-3 control-label" for="address">Warehouse</label>
                                <div class="col-md-8">
                                    <input type="number" class="form-control" name="warehouse" required="required" value="{{product.warehouse}}">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label">Brands</label>
                                <div class="col-sm-9">
                                    <select id="brand" name="brandId" class="form-control" size="5">
										{{#each brands}}
											{{#if (eqw ../brandId this._id)}}
												<option value={{this._id}} selected>{{this.name}}</option>
											{{else}}
												<option value={{this._id}}>{{this.name}}</option>
											{{/if}}
										{{/each}}
                                    </select>
                                    <label class="error" for="brands"></label>
                                </div>
                            </div>
							<div class="form-group">
                                <label class="col-sm-3 control-label">Categories</label>
                                <div class="col-sm-9">
                                    <select id="category" name="categoryId" class="form-control" size="5">
										{{#each categories}}
                                        <option value={{this._id}}>{{this.name}}</option>
										{{/each}}
                                    </select>
                                    <label class="error" for="brands"></label>
                                </div>
                            </div>
							<div class="form-group">
								<label class="col-md-3 control-label">File Upload</label>
								<div class="col-md-6">
									<div class="fileupload fileupload-new" data-provides="fileupload">
										<div class="input-append">
											<div class="uneditable-input">
												<i class="fa fa-file fileupload-exists"></i>
												<span class="fileupload-preview"></span>
											</div>
											<span class="btn btn-default btn-file">
												<span class="fileupload-exists">Change</span>
												<span class="fileupload-new">Select file</span>
												<input type="file" accept="image/*" name="image">
											</span>
											<a href="#" class="btn btn-default fileupload-exists" data-dismiss="fileupload">Remove</a>
										</div>
									</div>
								</div>
							</div>
							<div class="form-group">
								<div class="col-md-8 col-md-offset-3">
									<button type="submit" class="btn btn-primary" value="submit">Submit</button>
									<a class="btn btn-default" href="/products">Cancel</a>
								</div>
							</div>
                        </fieldset>
					</form>
					{{else}}
					<form class="form-horizontal form-bordered" method="post" action="/product-form" enctype="multipart/form-data">
						<fieldset>
							{{#if ../type}}
							<div class="span2 offset2 alert alert-success" role="alert">
								<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span
										aria-hidden="true">&times;</span></button>
								<strong>Success!</strong> Update profile successfully!
							</div>
							
							{{/if}}
                            <div class="form-group">
                                <label class="col-md-3 control-label" for="name">Name</label>
                                <div class="col-md-8">
                                    <input type="text" class="form-control" name="name" required="required">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-3 control-label" for="price">Price</label>
                                <div class="col-md-8">
                                    <input type="number" class="form-control" name="price" required="required">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-md-3 control-label" for="address">Warehouse</label>
                                <div class="col-md-8">
                                    <input type="number" class="form-control" name="warehouse" required="required">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label">Brands</label>
                                <div class="col-sm-9">
                                    <select id="brand" name="brandId" class="form-control" size="5" required>
										{{#each brands}}
                                        <option value={{this._id}}>{{this.name}}</option>
										{{/each}}
                                    </select>
                                    <label class="error" for="brands"></label>
                                </div>
                            </div>
							<div class="form-group">
                                <label class="col-sm-3 control-label">Categories</label>
                                <div class="col-sm-9">
                                    <select id="category" name="categoryId" class="form-control" size="5" required>
										{{#each categories}}
                                        <option value={{this._id}}>{{this.name}}</option>
										{{/each}}
                                    </select>
                                    <label class="error" for="brands"></label>
                                </div>
                            </div>
							<div class="form-group">
								<label class="col-md-3 control-label">File Upload</label>
								<div class="col-md-6">
									<div class="fileupload fileupload-new" data-provides="fileupload">
										<div class="input-append">
											<div class="uneditable-input">
												<i class="fa fa-file fileupload-exists"></i>
												<span class="fileupload-preview"></span>
											</div>
											<span class="btn btn-default btn-file">
												<span class="fileupload-exists">Change</span>
												<span class="fileupload-new">Select file</span>
												<input type="file" accept="image/*" name="image" required>
											</span>
											<a href="#" class="btn btn-default fileupload-exists" data-dismiss="fileupload">Remove</a>
										</div>
									</div>
								</div>
							</div>
							<div class="form-group">
								<div class="col-md-8 col-md-offset-3">
									<button type="submit" class="btn btn-primary" value="submit">Submit</button>
									<a class="btn btn-default" href="/products">Cancel</a>
								</div>
							</div>
                        </fieldset>
					</form>
					{{/if}}
				</div>
			</section>

		</div>
	</div>
	<!-- end: page -->
</section>
</div>

<script>
    window.setTimeout(function () {
        $(".alert").fadeTo(500, 0).slideUp(500, function () {
            $(this).remove();
        });
    }, 2000);
</script>